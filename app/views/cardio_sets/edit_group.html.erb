<div class="exercise-title-card text-center mb-4 p-3">
  <h3 class="m-0"><%= @exercise.name %></h3>
</div>

<div class="exercise-card">
  <%= form_with url: update_group_cardio_workout_cardio_sets_path(@cardio_workout),
                method: :patch,
                local: true do %>

    <div data-controller="cardio-sets"
         data-cardio-sets-edit-mode-value="true">

      <div class="floating-back"
           data-action="click->cardio-sets#commitOrBack">
           ←
      </div>

      <div data-cardio-sets-target="list">
        <% @sets.each_with_index do |set, i| %>
          <div class="set-input-row mb-3 p-3 rounded"
               data-set-uuid="<%= set.id %>"
               data-persisted="true"
               data-controller="cardio-set-create">

            <div class="fw-bold mb-2"
                 data-cardio-sets-target="number">
              セット<%= i + 1 %>
            </div>

            <%= render "cardio_sets/form_fields", set: set %>
          </div>
        <% end %>
      </div>

      <template data-cardio-sets-target="template">
        <div class="set-input-row mb-3 p-3 rounded"
             data-controller="cardio-set-create"
             data-persisted="false">

          <div class="fw-bold mb-2"
               data-cardio-sets-target="number">
            セット
          </div>

          <%= render "cardio_sets/form_fields", set: nil %>
        </div>
      </template>

      <button type="button"
              class="btn btn-secondary w-100 mt-2"
              data-action="cardio-sets#add">
        ＋ セットを追加
      </button>
      
    </div>
  <% end %>
</div>
