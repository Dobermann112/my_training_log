<h2 class="mb-4"><%= @body_part.name %> の種目一覧</h2>

<div class="d-flex gap-2 mb-4">
  <%= link_to "新規登録",
              new_body_part_exercise_path(@body_part, date: @date),
              class: "btn btn-warning" %>

  <%= link_to "種目選択に戻る",
              select_exercise_workouts_path(date: @date),
              class: "btn btn-outline-light" %>
</div>

<div class="exercise-list-wrapper">
  <% @exercises.each do |exercise| %>
    <div class="exercise-title-card p-3 mb-3 d-flex justify-content-between align-items-center">
      <div class="exercise-name">
        <span><%= exercise.name %></span>
      </div>

      <div class="d-flex gap-2">
        <% if exercise.user == current_user %>
          <%= link_to "編集",
              edit_body_part_exercise_path(@body_part, exercise, date: @date),
              class: "btn btn-sm btn-secondary" %>

          <%= link_to "削除",
              body_part_exercise_path(@body_part, exercise, date: @date),
              data: {
                turbo_method: :delete,
                turbo_confirm: "「#{exercise.name}」を削除しますか？"
              },
              class: "btn btn-sm btn-danger" %>

        <% elsif exercise.default_exercise? %>
          <%= link_to "編集",
              edit_body_part_exercise_path(@body_part, exercise, date: @date),
              class: "btn btn-sm btn-secondary" %>

        <% else %>
          <span class="text-muted">-</span>
        <% end %>
      </div>
    </div>
  <% end %>

  <% if @exercises.empty? %>
    <div class="exercise-title-card p-4 text-center text-muted">
      まだ登録されている種目はありません。
    </div>
  <% end %>
</div>
